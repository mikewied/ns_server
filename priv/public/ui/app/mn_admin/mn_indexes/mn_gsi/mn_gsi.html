<div
   class="interim alert alert-warning"
   ng-repeat="message in gsiCtl.state.warnings">
  <p>Warning: {{message}}</p>
</div>
<div
   class="interim alert alert-warning"
   ng-show="adminCtl.lostConnState.isActivated">
  <p>Difficulties communicating with the cluster; displaying cached information!</p>
</div>
<div
   class="interim main-content"
   ng-if="rbac.cluster.indexes.read"
   mn-spinner="!gsiCtl.state">
  <table
     mn-sortable-table="hosts"
     class="table-stroked">
    <thead>
      <tr>
        <th mn-sortable-title="bucket">Bucket</th>
        <th
           class="text-center"
           mn-sortable-title="hosts">Node</th>
        <th
           class="text-center"
           mn-sortable-title="index">Index Name</th>
        <th
           class="text-center"
           mn-sortable-title="storageMode | mnFormatStorageMode">Storage Type</th>
        <th
           class="text-center"
           mn-sortable-title="status">Status</th>
        <th
           class="text-center"
           mn-sortable-title="progress">Initial Build Progress</th>
      </tr>
    </thead>
    <tbody
       ng-if="gsiCtl.state.indexes.length"
       ng-repeat="row in gsiCtl.state.indexes | orderBy:gsiCtl.sortableTableProperties.orderBy:gsiCtl.sortableTableProperties.invert">
      <tr
         class="has-hover"
         ng-class="{
                 'grayblue-5': gsiCtl.isDetailsOpened(row.id),
                 'no-stroke': gsiCtl.isDetailsOpened(row.id)
                 }"
         ng-click="gsiCtl.toggleDetails(row.id)">
        <td
           class="ellipsis"
           title="{{row.bucket}}">
          <a
             class="expander"
             ng-class="{closed:!gsiCtl.isDetailsOpened(row.id)}">
          </a>
          <span>{{row.bucket}}</span>
        </td>
        <td
           class="ellipsis"
           title="{{row.hosts[0]}}">
          {{row.hosts[0]}}
        </td>
        <td
           class="ellipsis"
           title="{{row.index}}">
          {{row.index}}
        </td>
        <td
           class="ellipsis"
           title="{{row.storageMode | mnFormatStorageMode}}">
          {{row.storageMode | mnFormatStorageMode}}
        </td>
        <td
           class="ellipsis"
           title="{{row.status}}">
          {{row.status}}
        </td>
        <td
           class="ellipsis"
           title="{{row.progress}}">
          <span ng-if="row.progress">{{row.progress}} %</span>
        </td>
      </tr>
      <tr>
        <td
           colspan="6"
           class="grayblue-5"
           ng-if="gsiCtl.isDetailsOpened(row.id)">
          Definition: <span>{{row.definition}}</span>
        </td>
      </tr>
    </tbody>
    <tbody ng-if="!gsiCtl.state.indexes.length">
      <tr>
        <td colspan="6">
          There are no indexes currently.
        </td>
      </tr>
    </tbody>
  </table>
</div>
